---
http_interactions:
- request:
    method: post
    uri: https://slack.com/api/conversations.list
    body:
      encoding: UTF-8
      string: token=<TOKEN>
    headers:
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - Bearer <TOKEN>
      User-Agent:
      - Slack Ruby Client/0.15.0
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 13 Aug 2020 22:51:42 GMT
      Server:
      - Apache
      X-Slack-Req-Id:
      - 146207b4dbf03781fc155d6d00bc4cb0
      X-Oauth-Scopes:
      - identify,channels:history,channels:read,files:read,users:read
      X-Accepted-Oauth-Scopes:
      - channels:read,groups:read,mpim:read,im:read,read
      Access-Control-Expose-Headers:
      - x-slack-req-id, retry-after
      X-Slack-Backend:
      - r
      X-Content-Type-Options:
      - nosniff
      Expires:
      - Mon, 26 Jul 1997 05:00:00 GMT
      Cache-Control:
      - private, no-cache, no-store, must-revalidate
      X-Xss-Protection:
      - '0'
      Vary:
      - Accept-Encoding
      Pragma:
      - no-cache
      Access-Control-Allow-Headers:
      - slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid,
        x-b3-sampled, x-b3-flags
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Referrer-Policy:
      - no-referrer
      Access-Control-Allow-Origin:
      - "*"
      Content-Length:
      - '711'
      Content-Type:
      - application/json; charset=utf-8
      X-Via:
      - haproxy-www-qww3,haproxy-edge-nrt-yzsv
    body:
      encoding: ASCII-8BIT
      string: '{"ok":true,"channels":[{"id":"CH0TMH03V","name":"general","is_channel":true,"is_group":false,"is_im":false,"created":1552737404,"is_archived":false,"is_general":true,"unlinked":0,"name_normalized":"general","is_shared":false,"parent_conversation":null,"creator":"UH1BDRKD3","is_ext_shared":false,"is_org_shared":false,"shared_team_ids":["TH10MJNJ0"],"pending_shared":[],"pending_connected_team_ids":[],"is_pending_ext_shared":false,"is_member":true,"is_private":false,"is_mpim":false,"topic":{"value":"\u5168\u793e\u7684\u306a\u30a2\u30ca\u30a6\u30f3\u30b9\u3068\u696d\u52d9\u95a2\u9023\u306e\u4e8b\u9805","creator":"UH1BDRKD3","last_set":1552737404},"purpose":{"value":"\u3053\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u5168\u4f53\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u793e\u5185\u30a2\u30ca\u30a6\u30f3\u30b9\u7528\u3067\u3059\u3002\u5168\u30e1\u30f3\u30d0\u30fc\u304c\u3053\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u53c2\u52a0\u3057\u3066\u3044\u307e\u3059\u3002","creator":"UH1BDRKD3","last_set":1552737404},"previous_names":[],"num_members":3},{"id":"CH0TMH0HH","name":"random","is_channel":true,"is_group":false,"is_im":false,"created":1552737404,"is_archived":false,"is_general":false,"unlinked":0,"name_normalized":"random","is_shared":false,"parent_conversation":null,"creator":"UH1BDRKD3","is_ext_shared":false,"is_org_shared":false,"shared_team_ids":["TH10MJNJ0"],"pending_shared":[],"pending_connected_team_ids":[],"is_pending_ext_shared":false,"is_member":true,"is_private":false,"is_mpim":false,"topic":{"value":"\u4ed5\u4e8b\u306b\u95a2\u4fc2\u306a\u3044\u96d1\u8ac7\u3068\u7d66\u6e6f\u5ba4\u3067\u306e\u304a\u3057\u3083\u3079\u308a","creator":"UH1BDRKD3","last_set":1552737404},"purpose":{"value":"\u4ed5\u4e8b\u306b\u95a2\u4fc2\u306a\u3044\u30da\u30c1\u30e3\u30af\u30c1\u30e3\u3001\u30ef\u30a4\u30ef\u30a4\u3001\u3056\u308f\u3056\u308f\u3068\u3044\u3063\u305f\u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u3001\u4ed5\u4e8b\u306b\u95a2\u4fc2\u3057\u305f\u30c1\u30e3\u30f3\u30cd\u30eb\u3068\u306f\u5225\u306b\u3057\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002","creator":"UH1BDRKD3","last_set":1552737404},"previous_names":[],"num_members":3},{"id":"CH10MJSNQ","name":"bot-test","is_channel":true,"is_group":false,"is_im":false,"created":1552737405,"is_archived":false,"is_general":false,"unlinked":0,"name_normalized":"bot-test","is_shared":false,"parent_conversation":null,"creator":"UH1BDRKD3","is_ext_shared":false,"is_org_shared":false,"shared_team_ids":["TH10MJNJ0"],"pending_shared":[],"pending_connected_team_ids":[],"is_pending_ext_shared":false,"is_member":true,"is_private":false,"is_mpim":false,"topic":{"value":"","creator":"","last_set":0},"purpose":{"value":"","creator":"","last_set":0},"previous_names":[],"num_members":3}],"response_metadata":{"next_cursor":""}}'
  recorded_at: Thu, 13 Aug 2020 22:51:42 GMT
- request:
    method: post
    uri: https://slack.com/api/conversations.history
    body:
      encoding: UTF-8
      string: channel=CH10MJSNQ&count=5&inclusive=true&latest=1597359102&oldest=1597275899&token=<TOKEN>&unreads=true
    headers:
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - Bearer <TOKEN>
      User-Agent:
      - Slack Ruby Client/0.15.0
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 13 Aug 2020 22:51:42 GMT
      Server:
      - Apache
      X-Slack-Req-Id:
      - 8b151e040862fe8ed9ab4fe3caeb9888
      X-Oauth-Scopes:
      - identify,channels:history,channels:read,files:read,users:read
      X-Accepted-Oauth-Scopes:
      - channels:history,groups:history,mpim:history,im:history,read
      Access-Control-Expose-Headers:
      - x-slack-req-id, retry-after
      X-Slack-Backend:
      - r
      X-Content-Type-Options:
      - nosniff
      Expires:
      - Mon, 26 Jul 1997 05:00:00 GMT
      Cache-Control:
      - private, no-cache, no-store, must-revalidate
      X-Xss-Protection:
      - '0'
      Vary:
      - Accept-Encoding
      Pragma:
      - no-cache
      Access-Control-Allow-Headers:
      - slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid,
        x-b3-sampled, x-b3-flags
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Referrer-Policy:
      - no-referrer
      Access-Control-Allow-Origin:
      - "*"
      Content-Length:
      - '582'
      Content-Type:
      - application/json; charset=utf-8
      X-Via:
      - haproxy-www-a7tn,haproxy-edge-nrt-asxp
    body:
      encoding: ASCII-8BIT
      string: '{"ok":true,"latest":"1597359102.000000","oldest":"1597275899.000000","messages":[{"type":"message","text":"","files":[{"id":"F018UBAA9B4","created":1597359058,"timestamp":1597359058,"name":"image.png","title":"image.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"UH1BDRKD3","editable":false,"size":74,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/TH10MJNJ0-F018UBAA9B4\/image.png","url_private_download":"https:\/\/files.slack.com\/files-pri\/TH10MJNJ0-F018UBAA9B4\/download\/image.png","thumb_64":"https:\/\/files.slack.com\/files-tmb\/TH10MJNJ0-F018UBAA9B4-a29854bc1d\/image_64.png","thumb_80":"https:\/\/files.slack.com\/files-tmb\/TH10MJNJ0-F018UBAA9B4-a29854bc1d\/image_80.png","thumb_360":"https:\/\/files.slack.com\/files-tmb\/TH10MJNJ0-F018UBAA9B4-a29854bc1d\/image_360.png","thumb_360_w":2,"thumb_360_h":2,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/TH10MJNJ0-F018UBAA9B4-a29854bc1d\/image_160.png","original_w":2,"original_h":2,"thumb_tiny":"AwACAAKhRRRQB\/\/Z","permalink":"https:\/\/ritmiter.slack.com\/files\/UH1BDRKD3\/F018UBAA9B4\/image.png","permalink_public":"https:\/\/slack-files.com\/TH10MJNJ0-F018UBAA9B4-5fd38c6bd5","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"UH1BDRKD3","display_as_bot":false,"ts":"1597359061.000100"}],"has_more":false,"unread_count_display":0,"pin_count":0,"channel_actions_ts":null,"channel_actions_count":0}'
  recorded_at: Thu, 13 Aug 2020 22:51:42 GMT
- request:
    method: post
    uri: https://slack.com/api/users.info
    body:
      encoding: UTF-8
      string: token=<TOKEN>&user=UH1BDRKD3
    headers:
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - Bearer <TOKEN>
      User-Agent:
      - Slack Ruby Client/0.15.0
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 13 Aug 2020 22:51:43 GMT
      Server:
      - Apache
      X-Slack-Req-Id:
      - c50804e5a8307f9fa3c2116d3fc37450
      X-Oauth-Scopes:
      - identify,channels:history,channels:read,files:read,users:read
      X-Accepted-Oauth-Scopes:
      - users:read
      Access-Control-Expose-Headers:
      - x-slack-req-id, retry-after
      X-Slack-Backend:
      - r
      X-Content-Type-Options:
      - nosniff
      Expires:
      - Mon, 26 Jul 1997 05:00:00 GMT
      Cache-Control:
      - private, no-cache, no-store, must-revalidate
      X-Xss-Protection:
      - '0'
      Vary:
      - Accept-Encoding
      Pragma:
      - no-cache
      Access-Control-Allow-Headers:
      - slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid,
        x-b3-sampled, x-b3-flags
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Referrer-Policy:
      - no-referrer
      Access-Control-Allow-Origin:
      - "*"
      Content-Length:
      - '567'
      Content-Type:
      - application/json; charset=utf-8
      X-Via:
      - haproxy-www-pysr,haproxy-edge-nrt-kt8a
    body:
      encoding: ASCII-8BIT
      string: '{"ok":true,"user":{"id":"UH1BDRKD3","team_id":"TH10MJNJ0","name":"huga","deleted":false,"color":"9f69e7","real_name":"hoge","tz":"Asia\/Tokyo","tz_label":"Japan
        Standard Time","tz_offset":32400,"profile":{"title":"","phone":"","skype":"","real_name":"hoge","real_name_normalized":"hoge","display_name":"\u308a\u304a\u3046","display_name_normalized":"\u308a\u304a\u3046","fields":null,"status_text":"","status_emoji":"","status_expiration":0,"avatar_hash":"g4c9d680f5ee","first_name":"hoge","last_name":"","image_24":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=24&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-24.png","image_32":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=32&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-32.png","image_48":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-48.png","image_72":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png","image_192":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=192&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-192.png","image_512":"https:\/\/secure.gravatar.com\/avatar\/f4c9d680f5ee42cebabe1bf67d34301f.jpg?s=512&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-512.png","status_text_canonical":"","team":"TH10MJNJ0"},"is_admin":true,"is_owner":true,"is_primary_owner":true,"is_restricted":false,"is_ultra_restricted":false,"is_bot":false,"is_app_user":false,"updated":1595917796,"has_2fa":false}}'
  recorded_at: Thu, 13 Aug 2020 22:51:43 GMT
- request:
    method: get
    uri: https://files.slack.com/files-pri/TH10MJNJ0-F018UBAA9B4/download/image.png
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Authorization:
      - Bearer <TOKEN>
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - image/png
      Content-Length:
      - '74'
      Connection:
      - keep-alive
      Accept-Ranges:
      - bytes
      Cache-Control:
      - max-age=31536000, public
      Content-Disposition:
      - attachment; filename="image.png"; filename*=UTF-8''image.png
      Etag:
      - '"66d95ae00be2fa6241a6009c0bdf0434"'
      X-Backend:
      - supra-prod-nrt-798966f76-p27jl
      X-Content-Type-Options:
      - nosniff
      X-Robots-Tag:
      - noindex
      X-Slack-Meta:
      - S3TA
      Date:
      - Thu, 13 Aug 2020 22:51:43 GMT
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 0b3a0862143f3a514dca67973bbf6fd7.cloudfront.net (CloudFront)
      X-Amz-Cf-Pop:
      - NRT51-C4
      X-Amz-Cf-Id:
      - nYsCy-s_9_KmN1OALzB3UrvfeUUTXQaewBCVD1M4dONrBAw3vgecRA==
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAEUlEQVQYGWOQlFX6D8IMMAYAKuAFXVYkWn4AAAAASUVORK5CYII=
  recorded_at: Thu, 13 Aug 2020 22:51:43 GMT
- request:
    method: get
    uri: https://files.slack.com/files-pri/TH10MJNJ0-F018UBAA9B4/download/image.png
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Authorization:
      - Bearer rwwt74cv0vu42afppao6kiev9xtm50vk
  response:
    status:
      code: 302
      message: Found
    headers:
      Content-Type:
      - text/html; charset=utf-8
      Content-Length:
      - '116'
      Connection:
      - keep-alive
      Location:
      - https://ritmiter.slack.com/?redir=%2Ffiles-pri%2FTH10MJNJ0-F018UBAA9B4%2Fdownload%2Fimage.png
      X-Backend:
      - supra-prod-nrt-798966f76-gmbmp
      X-Slack-Meta:
      - "?;proxy_redir"
      Date:
      - Thu, 13 Aug 2020 23:04:31 GMT
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 9ee5e791d998d4a959bf5e5c9bd044d1.cloudfront.net (CloudFront)
      X-Amz-Cf-Pop:
      - NRT51-C4
      X-Amz-Cf-Id:
      - FqxJkYq14_QGa7fVWnksCBbAP3sWutwUqaiuMP55UwM_cCXrq1fIuw==
    body:
      encoding: UTF-8
      string: "<a href=\"https://ritmiter.slack.com/?redir=%2Ffiles-pri%2FTH10MJNJ0-F018UBAA9B4%2Fdownload%2Fimage.png\">Found</a>.\n\n"
  recorded_at: Thu, 13 Aug 2020 23:04:31 GMT
recorded_with: VCR 6.0.0
